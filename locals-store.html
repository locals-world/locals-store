<!--
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
-->

<link rel="import" href="../polymer/polymer.html">
<link rel="import" href="../iron-flex-layout/iron-flex-layout.html">
<link rel="import" href="../iron-pages/iron-pages.html">
<link rel="import" href="../locals-button/locals-button.html">
<link rel="import" href="../locals-style/locals-style.html">
<link rel="import" href="../locals-confirm/locals-confirm.html">

<!--
An element providing a solution to no problem in particular.

Example:

    <locals-store></locals-store>

Example:

    <locals-store>
      <h2>Hello locals-store</h2>
    </locals-store>

@demo demo/index.html
@hero hero.svg
-->

<dom-module id="locals-store">
  <template>
    <style>
      :host {
        display: block;
        box-sizing: border-box;

      }


      .total {
        width: 100vw;
        @apply(--layout-horizontal);
        @apply(--layout-start);
        @apply(--layout-wrap);
        background-color: var(--locals-blue);
      }

      locals-button {
        margin: 20px;
      }

    </style>
    <iron-pages selected="{{state}}" class="total">
      <section>
          <locals-button object="localscommunity" on-tap="choose"></locals-button>
      </section>
      <section>
        <div id="rendercanvas"></div>
        <locals-confirm on-cancel="cancel" on-confirm="confirm">Add <span>{{selection}}</span>?</locals-confirm>
      </section>
      <section></section>
    </iron-pages>
  </template>

  <script>
    Polymer({
      is: 'locals-store',

      properties: {
           
      },

      ready: function(){
        this.state = 0;
        this.selection = null;
      },

      choose: function(e){
        this.state = 1;
        console.log('add avatar', this.selection);
      },

      cancel: function(){
        this.state = 0;
      },

      confirm: function(){
        console.log('add ', this.selection, ' to userobject');
        var lsapi = document.getElementById("lsapi");
        console.log(lsapi.data.collection);
        lsapi.data.collection['localscommunity'] = {
            "component": {
              "name": "locals-community",
              "contract": "0x000"
            },
            "data":{
              "name":"My Club",
              },
            "config":
              [[0,0],[0,0],[0,0],[0,"5"],[0,0],[0,0],[0,0],[0,0],[0,0]]
            }
        lsapi.writeData(); 

      }

    });
  </script>
</dom-module>
